define("metaserver/static/js/file_viewer/utils",["require","exports","tslib","react","metaserver/static/js/core/browser","metaserver/static/js/core/i18n","metaserver/static/js/previews/ui/constants","metaserver/static/js/open_in_app/types","metaserver/static/js/core/browser_detection","metaserver/static/js/file_viewer/constants","metaserver/static/js/clean/ui/snackbar","metaserver/static/js/clean/web_user_action_logger","metaserver/static/js/clean/web_user_action_events"],(function(e,t,n,r,i,o,s,c,l,u,a,d,S){"use strict";function m(e){if(e)switch(e){case u.FileViewOriginType.BROWSE:return s.PreviewSourceContext.Browse;case u.FileViewOriginType.COLLECTIONS:return s.PreviewSourceContext.Collections;case u.FileViewOriginType.COMMERCE:return s.PreviewSourceContext.Commerce;case u.FileViewOriginType.HELLOSIGN:return s.PreviewSourceContext.HelloSign;case u.FileViewOriginType.HOME:return s.PreviewSourceContext.Home;case u.FileViewOriginType.PHOTOS:return s.PreviewSourceContext.Photos;case u.FileViewOriginType.RECENTS:return s.PreviewSourceContext.Recents;case u.FileViewOriginType.SEARCH:return s.PreviewSourceContext.Search;case u.FileViewOriginType.STARRED:return s.PreviewSourceContext.Starred;case u.FileViewOriginType.TRANSFER:return s.PreviewSourceContext.Transfer;case u.FileViewOriginType.SHARED_COLLECTION:return s.PreviewSourceContext.SharedCollection;case u.FileViewOriginType.CLIENT_PORTAL:return s.PreviewSourceContext.ClientPortal}const t=i.get_uri().path;return/^\/h$/.test(t)?s.PreviewSourceContext.Home:/^\/starred$/.test(t)?s.PreviewSourceContext.Starred:/^\/recents$/.test(t)?s.PreviewSourceContext.Recents:/^\/search$/.test(t)?s.PreviewSourceContext.Search:/^\/(s|scl\/fi)\//.test(t)?s.PreviewSourceContext.SharedLinkFile:/^\/(sh|scl\/fo)\//.test(t)?s.PreviewSourceContext.SharedLinkFolder:/^\/sc\//.test(t)?s.PreviewSourceContext.SharedLinkCollection:/^\/history/.test(t)?s.PreviewSourceContext.VersionHistory:/^\/(home|work|personal)/.test(t)?s.PreviewSourceContext.Browse:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.getOpenInAppUrls=t.showDocSendSnackbar=t.getSourceAction=t.getSourceContext=void 0,r=n.__importDefault(r),i=n.__importStar(i),l=n.__importStar(l),t.getSourceContext=m,t.getSourceAction=function(){switch(m()){case s.PreviewSourceContext.SharedLinkFile:case s.PreviewSourceContext.SharedLinkFolder:return s.PreviewSourceAction.Visit;default:return s.PreviewSourceAction.Click}},t.showDocSendSnackbar=function(e){setTimeout(()=>{a.Snackbar.show(r.default.createElement(a.Snackbar,{title:o.intl.formatMessage({id:"d93ce2",defaultMessage:"Always save signed documents in Dropbox? You can change this anytime in DocSend settings."}),closeButtonText:o.intl.formatMessage({id:"6NGNJV",defaultMessage:"Not now"}),actionButtonText:o.intl.formatMessage({id:"gM7OF1",defaultMessage:"Yes"}),id:"sync-from-docsend",onActionClick:()=>{e&&d.WebUserActionLog.log(e.id,S.WebUserActionLogEvent.CLICK_DOCSEND_SNACKBAR_YES,{}),window.open("https://docsend.com/settings/company/users/redirect?anchor=apps-settings","_blank")},onCloseClick:()=>{e&&d.WebUserActionLog.log(e.id,S.WebUserActionLogEvent.CLICK_DOCSEND_SNACKBAR_NOT_NOW,{})}}))},0)},t.getOpenInAppUrls=function(e,t,n,r){if(e&&t&&n)return e.open_in_app_data;if(l.iOS&&r){const t=encodeURIComponent(e.fq_path),n=encodeURIComponent(r.id);return{platform:c.OpenInMobileAppPlatform.IPHONE,iOSAppUrl:`dbapi-5://1/viewPath?path=${t}&userId=${n}`,iOSAppStoreUrl:"https://itunes.apple.com/us/app/dropbox/id327630330?mt=8e"}}if(l.is_android()){const e="/dl/home/mobile?mobile_app_fallback";return{platform:c.OpenInMobileAppPlatform.ANDROID_MARKET,androidAppUrl:e}}}})),define("metaserver/static/js/auth/login_or_register/types",["require","exports"],(function(e,t){"use strict";var n,r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Mode=t.LoginOrRegisterKind=t.DownloadAction=t.CommentTextVariant=void 0,(function(e){e.COMMENT="comment",e.DOWNLOAD="download",e.IMMEDIATE="immediate",e.SIDEBAR="sidebar",e.POSTDOWNLOAD="postdownload",e.POSTCOPYLINK="postcopylink",e.MOUNT="mount"})(n||(n={})),t.LoginOrRegisterKind=n,(function(e){e.DIRECT_DOWNLOAD="direct_download",e.SAVE_TO_DROPBOX="add_to_dropbox"})(r||(r={})),t.DownloadAction=r,(function(e){e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER"})(i||(i={})),t.Mode=i,(function(e){e.DEFAULT="",e.POST="post_comment_variant",e.SUBSCRIBE="subscribe_variant"})(o||(o={})),t.CommentTextVariant=o})),define("metaserver/static/js/file_viewer/sdk_file_viewer/full_screen_helpers",["require","exports"],(function(e,t){"use strict";let n;function r(){u()||(null==n||n(),s())}function i(){c()}function o(){var e;e=r,document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),document.addEventListener("mozfullscreenchange",e),(function(e){window.addEventListener("popstate",e)})(i)}function s(){var e;e=r,document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e),document.removeEventListener("mozfullscreenchange",e),(function(e){window.removeEventListener("popstate",e)})(i),n=()=>{}}function c(){null==n||n(),l()}function l(){s(),(function(){const e=document;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()})()}function u(){const e=document;return null!=e.fullScreen?e.fullScreen:null!=e.webkitIsFullScreen?e.webkitIsFullScreen:null!=e.mozFullScreen?e.mozFullScreen:null!=e.msFullscreenElement||null!=e.fullscreenElement}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserFullScreen=t.browserSupportFullScreen=t.exitFullScreenWithoutCallback=t.exitFullScreen=t.enterFullScreen=void 0,t.enterFullScreen=function({onExitFunction:e}){(function(e){n=e})(e),(function(){const e=document.body;null!=e.requestFullscreen?e.requestFullscreen():null!=e.msRequestFullscreen?e.msRequestFullscreen():null!=e.mozRequestFullScreen?e.mozRequestFullScreen():null!=e.webkitRequestFullscreen&&e.webkitRequestFullscreen()})(),o()},t.exitFullScreen=c,t.exitFullScreenWithoutCallback=l,t.browserSupportFullScreen=function(){const e=document.body;return e.requestFullscreen||e.msRequestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen},t.isBrowserFullScreen=u}));
//# sourceMappingURL=pkg-file-viewer-common.min.js-vflV7yzgE.map